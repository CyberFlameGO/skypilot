# Spot Policy does not support a mixture of use_spot values
# 'Resources must either all use spot or none use spot. To use on-demand and spot instances together, use `spot_policy: SpotHedge` and only specify `use_spot: true`.

service:
  readiness_probe: /health
  replica_policy:
    spot_policy: SpotHedge
    min_replicas: 2

resources:
  ports: 8081
  any_of:
    - use_spot: true
    - use_spot: true
    - use_spot: false
    - use_spot: true
    - use_spot: false

workdir: examples/serve/http_server

run: python3 server.py

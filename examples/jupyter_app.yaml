# Launches a Jupyter notebook.
#
# To access the jupyter notebook locally, we use ssh port forwarding.
#
# Usage:
#   sky launch -c jupyter jupyter_app.yaml
#   ssh -L 8888:localhost:8888 jupyter
#   sky down jupyter

name: jupyter

resources:
  cloud: aws

file_mounts:
  /covid:
    source: s3://fah-public-data-covid19-cryptic-pockets
    mode: MOUNT

setup: |
  pip install --upgrade pip
  conda init bash
  conda activate jupyter
  conda create -n jupyter python=3.9 -y
  conda activate jupyter
  pip install jupyter

run: |
  conda activate jupyter
  jupyter notebook --port 8888
